/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '../../../client/fetch'
import type { RequestConfig, ResponseErrorConfig } from '../../../client/fetch'
import type {
  UpdateApiKeyMutationRequest,
  UpdateApiKeyMutationResponse,
  UpdateApiKeyPathParams,
  UpdateApiKey400,
  UpdateApiKey401,
  UpdateApiKey403,
  UpdateApiKey404,
  UpdateApiKey429,
  UpdateApiKey500,
} from '../types/UpdateApiKey'

function getUpdateApiKeyUrl({
  apiKeyId,
}: { apiKeyId: UpdateApiKeyPathParams['apiKeyId'] }) {
  const res = {
    method: 'PATCH',
    url: `/owned-workspace/api-keys/${apiKeyId}` as const,
  }
  return res
}

/**
 * @description Update an API key
 * {@link /owned-workspace/api-keys/:apiKeyId}
 */
export async function updateApiKey(
  {
    apiKeyId,
    data,
  }: {
    apiKeyId: UpdateApiKeyPathParams['apiKeyId']
    data: UpdateApiKeyMutationRequest
  },
  config: Partial<RequestConfig<UpdateApiKeyMutationRequest>> & {
    client?: typeof fetch
  } = {},
) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data

  const res = await request<
    UpdateApiKeyMutationResponse,
    ResponseErrorConfig<
      | UpdateApiKey400
      | UpdateApiKey401
      | UpdateApiKey403
      | UpdateApiKey404
      | UpdateApiKey429
      | UpdateApiKey500
    >,
    UpdateApiKeyMutationRequest
  >({
    method: 'PATCH',
    url: getUpdateApiKeyUrl({ apiKeyId }).url.toString(),
    data: requestData,
    ...requestConfig,
  })
  return res
}
