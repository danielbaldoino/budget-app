/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '../../../client/fetch'
import type { RequestConfig, ResponseErrorConfig } from '../../../client/fetch'
import type {
  CreateApiKeyMutationRequest,
  CreateApiKeyMutationResponse,
  CreateApiKey400,
  CreateApiKey401,
  CreateApiKey403,
  CreateApiKey404,
  CreateApiKey429,
  CreateApiKey500,
} from '../types/CreateApiKey'

function getCreateApiKeyUrl() {
  const res = { method: 'POST', url: `/owned-workspace/api-keys` as const }
  return res
}

/**
 * @description Create a new API key
 * {@link /owned-workspace/api-keys}
 */
export async function createApiKey(
  { data }: { data: CreateApiKeyMutationRequest },
  config: Partial<RequestConfig<CreateApiKeyMutationRequest>> & {
    client?: typeof fetch
  } = {},
) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data

  const res = await request<
    CreateApiKeyMutationResponse,
    ResponseErrorConfig<
      | CreateApiKey400
      | CreateApiKey401
      | CreateApiKey403
      | CreateApiKey404
      | CreateApiKey429
      | CreateApiKey500
    >,
    CreateApiKeyMutationRequest
  >({
    method: 'POST',
    url: getCreateApiKeyUrl().url.toString(),
    data: requestData,
    ...requestConfig,
  })
  return res
}
